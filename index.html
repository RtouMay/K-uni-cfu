<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø³Ø§Ù…Ø§Ù†Ù‡ ØªÙ…Ø±ÛŒÙ† Ú©Ù†Ú©ÙˆØ± Ø®ÛŒØ±ÛŒÙ‡</title>
    <style>
        /* ÙÙˆÙ†Øª â€“ Ø¨Ø¹Ø¯Ø§Ù‹ ÙØ§ÛŒÙ„ ÙÙˆÙ†Øª Ø±Ùˆ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ */
        @font-face {
            font-family: "YekanBakh";
            src: url("assets/fonts/YekanBakh.woff2") format("woff2");
            font-weight: normal;
            font-style: normal;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            font-family: "YekanBakh", sans-serif;
            background: radial-gradient(circle at top, #222222 0, #050509 45%, #000000 100%);
            color: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .app-shell {
            width: 100%;
            max-width: 1100px;
            padding: 20px;
        }

        .card {
            position: relative;
            background: linear-gradient(145deg, #0d0d12, #050509);
            border-radius: 24px;
            padding: 32px 24px 20px;
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.02),
                0 18px 60px rgba(0, 0, 0, 0.9);
            overflow: hidden;
            animation: cardIn 0.7s ease-out;
        }

        .card::before {
            content: "";
            position: absolute;
            inset: -40%;
            background:
                radial-gradient(circle at 10% 0, rgba(245, 200, 66, 0.08), transparent 55%),
                radial-gradient(circle at 90% 100%, rgba(255, 255, 255, 0.05), transparent 55%);
            opacity: 0.7;
            z-index: 0;
        }

        .card-inner {
            position: relative;
            z-index: 1;
        }

        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 20px;
        }

        .logo-area {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-circle {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 2px solid #f5c842;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            text-align: center;
            padding: 4px;
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .logo-text-main {
            font-size: 13px;
            font-weight: 700;
            letter-spacing: 0.03em;
        }

        .logo-text-sub {
            font-size: 11px;
            opacity: 0.8;
        }

        .badge {
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(245, 200, 66, 0.5);
            font-size: 11px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .badge-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: #f5c842;
            box-shadow: 0 0 8px rgba(245, 200, 66, 0.9);
        }

        h1 {
            margin: 0 0 6px;
            font-size: 20px;
        }

        .subtitle {
            font-size: 13px;
            opacity: 0.8;
            margin-bottom: 24px;
        }

        .grid {
            display: grid;
            grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
            gap: 24px;
        }

        .panel {
            padding: 18px 16px;
            border-radius: 18px;
            background: rgba(0, 0, 0, 0.28);
            border: 1px solid rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(14px);
        }

        .panel-title {
            font-size: 14px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .panel-title span.icon {
            width: 18px;
            height: 18px;
            border-radius: 999px;
            border: 1px solid rgba(245, 200, 66, 0.6);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
        }

        label {
            display: block;
            font-size: 13px;
            margin-bottom: 6px;
        }

        input[type="text"] {
            width: 100%;
            padding: 9px 11px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            background: rgba(10, 10, 15, 0.9);
            color: #f5f5f5;
            outline: none;
            font-size: 13px;
            transition: border 0.2s ease, box-shadow 0.2s ease, transform 0.1s ease;
        }

        input[type="text"]:focus {
            border-color: #f5c842;
            box-shadow: 0 0 0 1px rgba(245, 200, 66, 0.4);
            transform: translateY(-1px);
        }

        .helper {
            font-size: 11px;
            opacity: 0.7;
            margin-top: 4px;
        }

        .error {
            font-size: 11px;
            color: #ff6e6e;
            margin-top: 6px;
            display: none;
        }

        .actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 14px;
            gap: 10px;
        }

        .btn {
            border: none;
            border-radius: 999px;
            padding: 9px 18px;
            font-size: 13px;
            cursor: pointer;
            font-family: inherit;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: transform 0.1s ease, box-shadow 0.2s ease, background 0.2s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f5c842, #f0a900);
            color: #17130a;
            font-weight: 700;
            box-shadow:
                0 8px 22px rgba(0, 0, 0, 0.7),
                0 0 14px rgba(245, 200, 66, 0.7);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow:
                0 10px 26px rgba(0, 0, 0, 0.8),
                0 0 18px rgba(245, 200, 66, 0.9);
        }

        .btn-primary:active {
            transform: translateY(0);
            box-shadow:
                0 6px 16px rgba(0, 0, 0, 0.6),
                0 0 10px rgba(245, 200, 66, 0.6);
        }

        .btn-ghost {
            background: transparent;
            color: #f5f5f5;
            font-size: 11px;
            opacity: 0.8;
        }

        .status {
            font-size: 12px;
            margin-top: 8px;
            min-height: 18px;
        }

        .status.ok {
            color: #8bc34a;
        }

        .status.warn {
            color: #ffb300;
        }

        .status.bad {
            color: #ff6e6e;
        }

        .side-highlight {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            gap: 16px;
        }

        .pill-row {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .pill {
            font-size: 11px;
            padding: 4px 9px;
            border-radius: 999px;
            background: rgba(245, 200, 66, 0.1);
            border: 1px solid rgba(245, 200, 66, 0.35);
        }

        .meter {
            width: 100%;
            height: 6px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.06);
            overflow: hidden;
            position: relative;
        }

        .meter-fill {
            position: absolute;
            inset: 0;
            width: 35%;
            background: linear-gradient(90deg, #f5c842, #ffea00);
            animation: pulseMeter 2s ease-in-out infinite;
        }

        .bottom-meta {
            margin-top: 20px;
            font-size: 11px;
            text-align: center;
            opacity: 0.7;
        }

        .designer {
            margin-top: 4px;
            font-weight: 600;
        }

        @keyframes cardIn {
            from {
                opacity: 0;
                transform: translateY(14px) scale(0.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes pulseMeter {
            0% { transform: translateX(-40%); }
            50% { transform: translateX(-5%); }
            100% { transform: translateX(40%); }
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: minmax(0, 1fr);
            }
            .card {
                padding: 24px 16px 16px;
            }
            header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
<div class="app-shell">
    <div class="card">
        <div class="card-inner">
            <header>
                <div class="logo-area">
                    <div class="logo-circle">
                        <span style="font-size:9px; line-height:1.4;">
                            Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡<br>ÙØ±Ù‡Ù†Ú¯ÛŒØ§Ù†
                        </span>
                    </div>
                    <div class="logo-text">
                        <div class="logo-text-main">Ø³Ø§Ù…Ø§Ù†Ù‡ ØªÙ…Ø±ÛŒÙ† Ú©Ù†Ú©ÙˆØ±</div>
                        <div class="logo-text-sub">Ø¨Ø±Ø§ÛŒ Ø¨Ú†Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¢Ø±Ø²ÙˆÙ‡Ø§Ø´ÙˆÙ† Ø¨Ø²Ø±Ú¯Ù‡ØŒ Ù†Ù‡ Ø¬ÛŒØ¨â€ŒØ´ÙˆÙ† ğŸŒ±</div>
                    </div>
                </div>
                <div class="badge">
                    <span class="badge-dot"></span>
                    Ù†Ø³Ø®Ù‡ Ø¢Ø²Ù…Ø§ÛŒØ´ÛŒ â€¢ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¢Ù…ÙˆØ²Ø´ÛŒ
                </div>
            </header>

            <h1>ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³Ø§Ù…Ø§Ù†Ù‡</h1>
            <div class="subtitle">
                Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒâ€ŒØ§ÛŒ Ú©Ù‡ Ø¨Ù‡Øª Ø¯Ø§Ø¯Ù† Ø±Ùˆ ÙˆØ§Ø±Ø¯ Ú©Ù† ØªØ§ Ø¨Ø±ÛŒÙ… Ø³Ø±Ø§Øº Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ Ùˆ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§.
            </div>

            <div class="grid">
                <!-- Ù¾Ù†Ù„ ÙˆØ±ÙˆØ¯ -->
                <div class="panel" id="login-panel">
                    <div class="panel-title">
                        <span class="icon">1</span>
                        <span>ÙˆØ±ÙˆØ¯ Ø¨Ø§ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</span>
                    </div>
                    <label for="usernameInput">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ</label>
                    <input id="usernameInput" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹: student1401 ÛŒØ§ admin">
                    <div class="helper">
                        Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒâ€ŒÙ‡Ø§ Ø¯Ø§Ø®Ù„ ÙØ§ÛŒÙ„ <code>data/usernames.json</code> ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´Ù†.
                    </div>
                    <div id="loginError" class="error">Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†.</div>

                    <div class="actions">
                        <button class="btn btn-primary" id="loginBtn">
                            <span>ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³Ø§Ù…Ø§Ù†Ù‡</span>
                        </button>
                        <button class="btn btn-ghost" type="button">
                            ÙØ¹Ù„Ø§Ù‹ ÙÙ‚Ø· ØªØ³Øª ÙˆØ±ÙˆØ¯ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø´Ø¯Ù‡
                        </button>
                    </div>

                    <div id="loginStatus" class="status"></div>
                </div>

                <!-- Ù¾Ù†Ù„ ØªÙˆØ¶ÛŒØ­ Ùˆ Ù‡Ø§ÛŒÙ„Ø§ÛŒØª -->
                <div class="panel side-highlight">
                    <div>
                        <div class="panel-title">
                            <span class="icon">â˜…</span>
                            <span>ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§</span>
                        </div>
                        <div class="pill-row">
                            <div class="pill">Ø±Ø´ØªÙ‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø³Ø§Ù†ÛŒØŒ ØªØ¬Ø±Ø¨ÛŒØŒ Ø±ÛŒØ§Ø¶ÛŒ</div>
                            <div class="pill">Ú©Ù†Ú©ÙˆØ± Ø¹Ø§Ø¯ÛŒ Ùˆ ÙØ±Ù‡Ù†Ú¯ÛŒØ§Ù†</div>
                            <div class="pill">Ø³ÙˆØ§Ù„Ø§Øª ØªØ³ØªÛŒ Û´ Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ</div>
                            <div class="pill">ØªØ­Ù„ÛŒÙ„ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù†ØªÛŒØ¬Ù‡</div>
                            <div class="pill">ØªØ§ÛŒÙ…Ø± Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø²Ù…Ø§Ù†</div>
                            <div class="pill">Ù…Ø±ÙˆØ± Ø³ÙˆØ§Ù„Ø§Øª ØºÙ„Ø·</div>
                        </div>
                    </div>
                    <div>
                        <div class="panel-title">
                            <span class="icon">â±</span>
                            <span>Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯</span>
                        </div>
                        <div class="meter">
                            <div class="meter-fill"></div>
                        </div>
                        <div class="helper" style="margin-top:8px;">
                            Ø§ÛŒÙ† ÙÙ‚Ø· Ù…Ø±Ø­Ù„Ù‡Ù” ÙˆØ±ÙˆØ¯ Ø¨ÙˆØ¯Ø› ØªÙˆ Ù…Ø±Ø§Ø­Ù„ Ø¨Ø¹Ø¯ØŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡ØŒ Ù†ÙˆØ¹ Ú©Ù†Ú©ÙˆØ±ØŒ Ø¯Ø±ÙˆØ³ Ùˆ Ø®ÙˆØ¯ Ø¢Ø²Ù…ÙˆÙ†
                            Ø±Ùˆ Ø¨Ø§ Ù‡Ù…ÛŒÙ† Ø§Ø³ØªØ§ÛŒÙ„ ØªÛŒØ±Ù‡ Ùˆ Ø®ÙÙ† Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØ¯ÛŒÙ….
                        </div>
                    </div>
                </div>
            </div>

            <div class="bottom-meta">
                <div>Ø§ÛŒÙ† Ø³Ø§Ù…Ø§Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ø­Ù…Ø§ÛŒØª Ø§Ø² Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù† Ú©Ù…â€ŒØ¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.</div>
                <div class="designer">Ø·Ø±Ø§Ø­: Ù…Ø­Ù…Ø¯Ù…Ù‡Ø¯ÛŒ Ø¯ÛŒÙ†Ø§Ø±ÙˆÙ†Ø¯</div>
            </div>
        </div>
    </div>
</div>

<script>
    const loginBtn = document.getElementById("loginBtn");
    const usernameInput = document.getElementById("usernameInput");
    const loginError = document.getElementById("loginError");
    const loginStatus = document.getElementById("loginStatus");

    let currentUser = null;

    async function handleLogin() {
        const username = usernameInput.value.trim();
        loginError.style.display = "none";
        loginStatus.textContent = "";
        loginStatus.className = "status";

        if (!username) {
            loginError.textContent = "Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ùˆ Ø®Ø§Ù„ÛŒ Ù†Ø°Ø§Ø± ğŸ™‚";
            loginError.style.display = "block";
            return;
        }

        try {
            const res = await fetch("data/usernames.json?_=" + Date.now());
            if (!res.ok) {
                throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†");
            }
            const data = await res.json();
            const users = data.users || [];
            const found = users.find(u => u.username === username);

            if (!found) {
                loginError.textContent = "Ú†Ù†ÛŒÙ† Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒâ€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡. Ø§Ú¯Ø± Ù…Ø·Ù…Ø¦Ù†ÛŒ Ø¯Ø±Ø³ØªÙ‡ØŒ Ø¨Ø§ Ù…Ø³Ø¦ÙˆÙ„ Ø³Ø§Ù…Ø§Ù†Ù‡ Ú†Ú© Ú©Ù†.";
                loginError.style.display = "block";
                loginStatus.textContent = "";
                return;
            }

            currentUser = {
                username: found.username,
                role: found.role || "student"
            };

            loginStatus.classList.add("ok");
            loginStatus.textContent =
                `ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚ ğŸ‘Œ Ø®ÙˆØ´ Ø§ÙˆÙ…Ø¯ÛŒ ${currentUser.username}` +
                (currentUser.role === "admin" ? " (Ø­Ø§Ù„Øª Ù…Ø¯ÛŒØ± ÙØ¹Ø§Ù„ Ø§Ø³Øª)" : "");

            // Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø¹Ø¯Ø§Ù‹ Ù…ÛŒâ€ŒØ±ÛŒÙ… Ø³Ø±Ø§Øº Ù…Ø±Ø­Ù„Ù‡ Ø¨Ø¹Ø¯ (Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø´ØªÙ‡)
            // ÙØ¹Ù„Ø§Ù‹ ÙÙ‚Ø· Ù„Ø§Ú¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…:
            console.log("Logged in user:", currentUser);

        } catch (err) {
            console.error(err);
            loginError.textContent = "ÛŒÙ‡ Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù¾ÛŒØ´ Ø§ÙˆÙ…Ø¯. Ø¢Ø¯Ø±Ø³ Ùˆ Ù†Ø§Ù… ÙØ§ÛŒÙ„ Ø±Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ú†Ú© Ú©Ù†.";
            loginError.style.display = "block";
        }
    }

    loginBtn.addEventListener("click", handleLogin);
    usernameInput.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
            handleLogin();
        }
    });
</script>
</body>
</html>
